@model UniversityManagement.Models.Enrollment

@{
    ViewData["Title"] = "Уреди оценка";
}

<div class="container mt-4">
    <h2>Уреди оценка за студент</h2>

    <div class="card mb-3">
        <div class="card-body">
            <h5>@Model.Student?.FirstName @Model.Student?.LastName (@Model.Student?.StudentId)</h5>
            <p><strong>Предмет:</strong> @Model.Course?.Title</p>
            <p><strong>Година:</strong> @Model.Year | <strong>Семестар:</strong> @Model.Semester</p>
        </div>
    </div>

    <form method="post" asp-action="EditEnrollment" asp-route-id="@Model.Id">
        @Html.AntiForgeryToken()

        <div class="row">
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label>Поени од испит</label>
                    <input type="number" name="examPoints" class="form-control" value="@Model.ExamPoints" min="0" max="100" />
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label>Поени од семинарска работа</label>
                    <input type="number" name="seminalPoints" class="form-control" value="@Model.SeminalPoints" min="0" max="100" />
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label>Поени од проект</label>
                    <input type="number" name="projectPoints" class="form-control" value="@Model.ProjectPoints" min="0" max="100" />
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label>Дополнителни поени</label>
                    <input type="number" name="additionalPoints" class="form-control" value="@Model.AdditionalPoints" min="0" max="100" />
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label>Оценка (5-10)</label>
                    <select name="grade" class="form-control">
                        <option value="">-- Без оценка --</option>
                        <option value="5" selected="@(Model.Grade == 5)">5</option>
                        <option value="6" selected="@(Model.Grade == 6)">6</option>
                        <option value="7" selected="@(Model.Grade == 7)">7</option>
                        <option value="8" selected="@(Model.Grade == 8)">8</option>
                        <option value="9" selected="@(Model.Grade == 9)">9</option>
                        <option value="10" selected="@(Model.Grade == 10)">10</option>
                    </select>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group mb-3">
                    <label>Датум на положување/завршување</label>
                    <input type="date" name="finishDate" class="form-control" value="@Model.FinishDate?.ToString("yyyy-MM-dd")" />
                </div>
            </div>
        </div>

        <div class="alert alert-info">
            <strong>Напомена:</strong> Полињата за URL-ата (семинарска работа и проект) можат да се прегледаат, но не можат да се менуваат од страна на професорот.
            <ul>
                <li><strong>Семинарска работа:</strong> @(string.IsNullOrEmpty(Model.SeminalUrl) ? "Нема" : Model.SeminalUrl)</li>
                <li><strong>Проект (GitHub):</strong> @(string.IsNullOrEmpty(Model.ProjectUrl) ? "Нема" : Model.ProjectUrl)</li>
            </ul>
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary">Зачувај промени</button>
            <a asp-action="CourseDetails" asp-route-id="@Model.CourseId" class="btn btn-secondary">Откажи</a>
        </div>
    </form>
</div>
